[pytest]
testpaths = tests
markers =
    unit: Tests unitaires (sans IO externe)
    integration: Tests d’intégration (API FastAPI, dépendances mockées)
    functional: Tests fonctionnels end-to-end light (client HTTP sur l’app)
    stripe: Tests qui touchent Stripe (mockés par défaut)
    supabase: Tests qui touchent Supabase (peuvent nécessiter un env réel)
asyncio_mode = auto